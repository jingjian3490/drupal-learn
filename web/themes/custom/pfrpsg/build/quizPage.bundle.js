"use strict";(self.webpackChunkpfrpsg=self.webpackChunkpfrpsg||[]).push([[693],{106:function(e,t,r){r.r(t);var n=r(576);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t){(0,n.q)("migraine risk assessment quiz question");var r=e(".paragraph--type--questions.paragraph--view-mode--default .question-input"),o=e(".paragraph--type--questions.paragraph--view-mode--default .paragraph--type--question p"),s=e(".paragraph--type--questions.paragraph--view-mode--preview .question-input"),i=e(".paragraph--type--questions.paragraph--view-mode--preview .paragraph--type--question p"),u=e(".quiz-submit .button");function p(e,t,r){var n=[];n.push({event:"pfFormWorkflowInput",pfFormWorkflowInput:{formName:"migraine risk assessment quiz",formStep:"1",formQuestion:e,formAnswer:t,formQuestionIndex:r}});var a=new CustomEvent("pfAnalytics",{detail:n});document.querySelector("body").dispatchEvent(a)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submitted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];r.push({event:"pfFormWorkflow",pfFormWorkflow:{formName:"migraine risk assessment quiz",formAction:e,formStep:"1",formPageLoad:"false",formErrorMessage:t}});var n=new CustomEvent("pfAnalytics",{detail:r});document.querySelector("body").dispatchEvent(n)}function f(e,r){var n=new Date((new Date).getTime()+36e5);t.set(e,r,{expires:n})}function l(e,t,r){for(var n=[],a=0;a<e.length;a++){var o=e.eq(a).val(),s=t.eq(a).text(),i=s.split(".")[0],u=s.slice(parseInt(s.indexOf("."),10)+2);""!==o?(n.push(o),p(u,o,i)):n.push("n")}f(r,JSON.stringify(n))}t.get("defaultTestResults")||f("defaultTestResults","[]"),t.get("previewTestResults")||f("previewTestResults","[]"),t.get("agreeDisclaimer")||f("agreeDisclaimer","false"),u.attr("sc:linkname","migraine risk assessment quiz question | content | submit"),r.on("input",(function(){e(this).parent().next(".error").addClass("hidden")})),s.on("input",(function(){e(this).parent().next(".error").addClass("hidden")})),u.on("click",(function(n){if(n.preventDefault(),v=[],a(r).forEach((function(t){t.value||v.push(e(t))})),a(s).forEach((function(t){t.value||v.push(e(t))})),!(v.length>0&&(d=v[0].parents(".input-box").prev(),e("html, body").animate({scrollTop:d.offset().top-100},1e3),function(e){e.forEach((function(e){e.parent().next(".error").removeClass("hidden")}))}(v),1))){e(this).css("pointer-events","none"),e(this).css("background","gray"),l(r,o,"defaultTestResults"),l(s,i,"previewTestResults");var f=function(){var r=JSON.parse(t.get("defaultTestResults")),n=0;return e.each(r,(function(e,t){if(t&&""!==t&&"n"!==t){var r=parseInt(t,10);"NaN"!==r&&(n+=r)}})),n}(),m=Math.random().toFixed(6).slice(-6);e.ajax({url:"/quiz_statistic?".concat(m),type:"post",data:{score:f},timeout:5e3,success:function(t){p("result",t.data,6),c(),c("completed"),setTimeout((function(){e(window.location).attr("href","/quiz-result?".concat(m)),u.css("pointer-events","auto"),u.css("background","var(--dark)")}),4e3)},error:function(){u.css("pointer-events","auto"),u.css("background","var(--dark)")}})}var d,v}))}(jQuery,window.Cookies)}}]);